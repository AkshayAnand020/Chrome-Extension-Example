<html>
<head>
  <script type="text/javascript" src="jquery-1.7.1.min.js"></script>
  <script type="text/javascript" src="jquery-ui-1.8.10.custom.min.js"></script>
  <script type="text/javascript" src="asana.js"></script>
  <script type="text/javascript" src="options.js"></script>
  <script type="text/javascript" src="api_bridge.js"></script>
  <script type="text/javascript" src="server_model.js"></script>
  <!-- TODO: detect non-latin language and use alternate typekit -->
  <script type="text/javascript" src="https://use.typekit.net/sli4yxq.js"></script>
  <script type="text/javascript" src="load_typekit.js"></script>
  <link rel="stylesheet" href="popup.css"/>
</head>

<body>

  <div id="add_view" style="display:none">
    <div class="banner">
      <div class="left-column"></div>
      <div class="middle-column">
        <span class="banner-add">
          Add to
          <span id="workspace"></span>
          <span id="workspace_select_container">
            <span class="button"><span class="dropdown-arrow"></span></span>
            <select id="workspace_select"><option>Loading...</option></select>
          </span>
        </span>
      </div>
      <div class="right-column">
        <a id="close_popup" class="close-x"></a>
      </div>
    </div>
    <div class="name-row">
      <div class="left-column">
        <span class="icon-checkbox"></span>
      </div>
      <div class="middle-column">
        <input id="name"/>
      </div>
      <div class="right-column">
        <span id="use_page_details" class="button" title="Use page title for task details"><span class="icon-use-link"></span></span>
      </div>
    </div>
    <div class="notes-row">
      <div class="left-column">
        <span class="icon-notes"></span>
      </div>
      <div class="middle-column">
        <textarea id="notes" placeholder="Description"></textarea>
      </div>
      <div class="right-column"></div>
    </div>
    <div class="assignee-row">
      <div class="left-column">
        <span class="icon-assignee"></span>
      </div>
      <div class="middle-column">
        <div class="without-assignee">
          <input id="assignee"/>
        </div>
        <div class="with-assignee">

        </div>
        <div class="assignee-list-container">
          <div id="#assignee_list">

          </div>
        </div>

      </div>
      <div class="right-column"></div>
    </div>

    <div class="footer">
      <div class="left-column"></div>
      <div class="middle-column">
        <div id="add_button" tabindex="0" class="button primary-button disabled">
          <span class="button-text">Add to Asana</span>
        </div>
      </div>
    </div>

    <div id="success" style="display:none">
      <div class="left-column">
        <span class="icon-success"></span>
      </div>
      <div class="middle-column">
        Added <a id="new_task_link" target="_blank" href=""></a> to <span id="new_task_workspace_name"></span>.
      </div>
      <div class="right-column"></div>
    </div>

    <div id="error" style="display:none">
      <div class="left-column">
        <span class="icon-error"></span>
      </div>
      <div class="middle-column">
        There was an error. Your task was not added.
      </div>
      <div class="right-column"></div>
    </div>
  </div>

  <div id="login_view" style="display:none">
    <div class="banner">
      Add to Asana
      <a id="close-banner" class="close-x"></a>
    </div>
    <div class="content">
      You must log in to Asana before you can add tasks.
      <span id="login_button" class="button"><span class="button-text">Log In to Asana</span></span>
    </div>
  </div>

</body>

<!-- Adds event handlers to elements, so we include at the end -->
<script type="text/javascript" src="popup.js"></script>

</html>